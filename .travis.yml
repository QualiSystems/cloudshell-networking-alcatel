language: python

python:
  - "2.7"
  - "3.6"

jobs:
  include:
    - if: branch = master
      env: TOXFACTOR = master
    - if: branch != master
      env: TOXFACTOR = dev
    - env: TOXENV = build
      python: 2.7
    - env: TOXENV = pre-commit
      python: 3.7
      dist: xenial

install:
  - pip install tox-factor
  - pip install codecov

script: tox
after_success: codecov
